@page
@model ABCHardware_Project.Pages.TESTModel
@{
}
<script>
    function addToCart(button) {
        var tableRow = button.closest("tr");
        var customerSelect = tableRow.querySelector(".customerSelect");
        var customerID = customerSelect.value;
        var itemCode = tableRow.querySelector(".itemCode").value;
        var description = tableRow.querySelector(".description").value;
        var unitPrice = tableRow.querySelector(".unitPrice").value;
        var quantity = tableRow.querySelector(".quantity").value;

        var cartTable = document.getElementById("cartTable");
        var newRow = cartTable.insertRow(-1);

        var cell1 = newRow.insertCell(0);
        var cell2 = newRow.insertCell(1);
        var cell3 = newRow.insertCell(2);
        var cell4 = newRow.insertCell(3);
        var cell5 = newRow.insertCell(4);

        cell1.innerHTML = customerID;
        cell2.innerHTML = itemCode;
        cell3.innerHTML = description;
        cell4.innerHTML = unitPrice;
        cell5.innerHTML = quantity;
    }
</script>
@section TESTContent {

    @if (Model.everyItems != null)
    {


        @foreach (var val in Model.everyItems)
        {
            <form name="SampleForm" method="post">



                <table id="itemTable" border="1">
                    <tr>
                        <th>Select Customer</th>
                        <th>Item Code</th>
                        <th>Description</th>
                        <th>Unit Price</th>
                        <th>Quantity</th>
                        <th>Action</th>
                    </tr>

                    <tr>
                        <td>
                            <label for="SelectValue">Select Existing Student ID: </label>
                            <select class="customerSelect" style="width: 20%; height: 30px;">
                                <option value="" class="selectionProgramCode">Select Student ID</option>
                                @foreach (var id in Model.CustomerInfo)
                                {
                                    <option value="@id.CustomerID" class="selectionProgramCode">@id.CustomerID @id.FirstName @id.LastName</option>
                                }
                            </select>
                            <span class="modelMessage"></span>
                        </td>
                        <td><input name="ItemTestCode" class="itemCode" value="@val.ItemCode" readonly /></td>
                        <td><input class="description" value="@val.Description" readonly /></td>
                        <td><input class="unitPrice" value="@val.UnitPrice" readonly /></td>
                        <td><input class="quantity" value="0" max="@val.Quantity" /></td>
                        <td>
                            <input type="submit" value="Sumit" onclick="addToCart(this)" class="buttons" />
                            @*<button type="button" onclick="addToCart(this)" class="buttons">Add To Cart</button>
*@
                        </td>
                    </tr>

                </table>

                <br></br>



            </form>



        }
    }


    @if (Model.list != null)
    {
        <h2>Purchased Item</h2>
        <table border="1">
            <tr>
                <td>Item Code</td>
                <td>Description</td>
                <td>Unit Price</td>
                <td>Quanitity</td>


            </tr>
            <tr>
                @for (int i = 0; i < Model.list.Count; i++)
                {



                    <td>@Model.list[i]</td>


                }
            </tr>



        </table>
    }

    <h2>Shopping Cart</h2>

    <form name="sample" method="post">
        <table id="cartTable" border="1">
            <tr>
                <th>Customer ID</th>
                <th>Item Code</th>
                <th>Description</th>
                <th>Unit Price</th>
                <th>Quantity</th>
            </tr>
        </table>

        <input type="submit" name="Sumit" value="Sumit" />
    </form>







}
